<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>감정 기록 - 오늘은 퇴근하세요</title>

        <!-- Google Fonts: Gowun Dodum -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap"
            rel="stylesheet"
        />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/emotion-diary.css" />
    </head>
    <body>
        <!-- 감정 기록 등록 화면 -->
        <div id="recordScreen" class="screen active">
            <div class="container">
                <header class="app-header">
                    <button
                        id="back-btn"
                        class="icon-button"
                        aria-label="뒤로 가기"
                        onclick="window.history.back()"
                    >
                        <svg
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M15 19l-7-7 7-7"
                            />
                        </svg>
                    </button>
                    <div class="header-text">
                        <h1>오늘의 감정 기록</h1>
                    </div>
                    <div class="icon-placeholder"></div>
                </header>

                <div class="emotion-record-form">
                    <div class="emotion-header">
                        <h1>오늘의 마음은 어땠나요?</h1>
                        <p class="subtitle">
                            하루 한 번, 당신의 감정을 기록해보세요
                        </p>
                    </div>
                    <div class="emotion-selector">
                        <div
                            class="emotion-option"
                            data-emotion="😢"
                            data-value="sad"
                        >
                            <span class="emotion-emoji">😢</span>
                            <span class="emotion-label">슬퍼요</span>
                        </div>
                        <div
                            class="emotion-option"
                            data-emotion="😡"
                            data-value="angry"
                        >
                            <span class="emotion-emoji">😡</span>
                            <span class="emotion-label">화나요</span>
                        </div>
                        <div
                            class="emotion-option"
                            data-emotion="😐"
                            data-value="neutral"
                        >
                            <span class="emotion-emoji">😐</span>
                            <span class="emotion-label">그저그래요</span>
                        </div>
                        <div
                            class="emotion-option"
                            data-emotion="🙂"
                            data-value="happy"
                        >
                            <span class="emotion-emoji">🙂</span>
                            <span class="emotion-label">좋아요</span>
                        </div>
                        <div
                            class="emotion-option"
                            data-emotion="😄"
                            data-value="very-happy"
                        >
                            <span class="emotion-emoji">😄</span>
                            <span class="emotion-label">최고예요</span>
                        </div>
                    </div>

                    <div class="comment-section">
                        <textarea
                            id="emotionComment"
                            class="comment-input"
                            placeholder="오늘 하루를 한 줄로 표현한다면..."
                            maxlength="100"
                        ></textarea>
                        <span class="char-count">0/100</span>
                    </div>

                    <div class="action-buttons">
                        <button
                            class="btn btn-secondary"
                            onclick="showListScreen()"
                        >
                            기록 보기
                        </button>
                        <button class="btn btn-primary" onclick="saveEmotion()">
                            저장하기
                        </button>
                    </div>
                </div>
            </div>
            <!-- 하단 네비게이션 바 -->
            <nav class="bottom-nav">
                <a href="../pyj/home.html" class="nav-item" id="nav-home">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
                        ></path>
                    </svg>
                    <span>홈</span>
                </a>
                <a href="#" class="nav-item active" id="nav-emotion-log">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                        ></path>
                    </svg>
                    <span>감정기록</span>
                </a>
                <a href="clock-out.html" class="nav-item" id="nav-alarm">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
                        ></path>
                    </svg>
                    <span>퇴근알림</span>
                </a>
                <a href="../pyj/card.html" class="nav-item" id="nav-quotes">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
                        ></path>
                    </svg>
                    <span>실패명언</span>
                </a>
                <a href="../pyj/stats.html" class="nav-item" id="nav-stats">
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        ></path>
                    </svg>
                    <span>감정통계</span>
                </a>
            </nav>
        </div>

        <!-- 감정 기록 조회 화면 -->
        <div id="listScreen" class="screen">
            <header class="app-header">
                <div class="icon-placeholder"></div>
                <h1>나의 감정 기록</h1>
                <button
                    id="close-list-btn"
                    class="icon-button"
                    aria-label="닫기"
                >
                    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"
                        />
                    </svg>
                </button>
            </header>
            <main class="list-screen-area">
                <div class="list-header">
                    <h1>기록된 감정들이에요</h1>
                    <p class="subtitle">지금까지의 마음을 돌아보세요</p>
                </div>
                <div class="list-controls">
                    <button
                        class="btn btn-primary"
                        onclick="showRecordScreen()"
                    >
                        새 감정 기록하기
                    </button>
                </div>

                <div id="emotionList" class="emotion-list">
                    <!-- 감정 기록이 여기에 동적으로 추가됩니다 -->
                </div>

                <div id="emptyState" class="empty-state" style="display: none">
                    <span class="empty-emoji">📝</span>
                    <p>아직 기록된 감정이 없어요</p>
                    <p class="empty-sub">첫 번째 감정을 기록해보세요</p>
                </div>
            </main>
        </div>

        <!-- 수정/삭제 모달 -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>감정 기록 수정</h2>
                    <button
                        class="icon-button delete-icon"
                        onclick="deleteEmotion()"
                        aria-label="삭제"
                    >
                        <svg
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                            />
                        </svg>
                    </button>
                </div>

                <div class="emotion-selector modal-emotion-selector">
                    <div
                        class="emotion-option"
                        data-emotion="😢"
                        data-value="sad"
                    >
                        <span class="emotion-emoji">😢</span>
                    </div>
                    <div
                        class="emotion-option"
                        data-emotion="😡"
                        data-value="angry"
                    >
                        <span class="emotion-emoji">😡</span>
                    </div>
                    <div
                        class="emotion-option"
                        data-emotion="😐"
                        data-value="neutral"
                    >
                        <span class="emotion-emoji">😐</span>
                    </div>
                    <div
                        class="emotion-option"
                        data-emotion="🙂"
                        data-value="happy"
                    >
                        <span class="emotion-emoji">🙂</span>
                    </div>
                    <div
                        class="emotion-option"
                        data-emotion="😄"
                        data-value="very-happy"
                    >
                        <span class="emotion-emoji">😄</span>
                    </div>
                </div>

                <div class="comment-section">
                    <textarea
                        id="editComment"
                        class="comment-input"
                        placeholder="오늘 하루를 한 줄로 표현한다면..."
                        maxlength="100"
                    ></textarea>
                    <span class="char-count">0/100</span>
                </div>

                <div class="modal-buttons">
                    <button class="btn btn-secondary" onclick="closeModal()">
                        취소
                    </button>
                    <button class="btn btn-primary" onclick="updateEmotion()">
                        수정
                    </button>
                </div>
            </div>
        </div>

        <script src="js/emotion-diary.js"></script>
    </body>
</html>
